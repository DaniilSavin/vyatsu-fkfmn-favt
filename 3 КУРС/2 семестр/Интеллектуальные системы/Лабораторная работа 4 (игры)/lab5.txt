
#include "pch.h"
#include <iostream>
#include <ctime>
using namespace std;


int main()
{
	setlocale(LC_ALL, "Russian");
	srand(time(0)); 
	int n = rand() % (25 - 15 + 1) + 15;

	int position=0;

	cout << "В банке " << n << " солёных огурцов.  Двое играют по очереди. За ход разрешается съесть один или два огурца. Кто не может сделать ход, проигрывает." << endl;
	cout << "Введите порядок хода пользователя. 1 - первый, 2 - второй." << endl;

	while (position != 1 && position != 2)
		cin >> position;

	int temp = position;

	while (n != 0)
	{
		cout << "Огурцов: " << n << endl;
		int current = 0;

		if (position %2 == 1)
		{
			while (current != 1 && current != 2)
			{
				cout << "Введите ход:";
				cin >> current;
			}
		}
		else
		{
			if (n % 3==0)
				current = rand() % 2 + 1;
			else {
				int k = n;
				if ((k - 1) % 3 == 0)
					current = 1;
				else current = 2;
			}
			cout << "Ход компьютера: " << current << endl;
		}
		n -= current;
		position++;
	}
	if (position % 2 == temp - 1) cout << "Игрок победил" << endl;
	else cout << "Компьютер победил" << endl;


}
