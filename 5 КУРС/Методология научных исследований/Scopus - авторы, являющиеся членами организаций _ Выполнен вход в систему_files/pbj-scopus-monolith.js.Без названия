/*! 
 * @scopus/pbj-scopus-monolith - version: 22.0.31 | Copyright (c) 2022 Elsevier B.V.
 * For license information please see ./pbj-scopus-monolith.js.LICENSE.txt
 */
(()=>{"use strict";var e={800:()=>{Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),s=n.length>>>0;if(0===s)return!1;for(var o,r,a=0|t,i=Math.max(a>=0?a:s-Math.abs(a),0);i<s;){if((o=n[i])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;i++}return!1}}),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){if("function"==typeof window.Object.values)return!1;window.Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},writable:!0,configurable:!0})}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}(()=>{class e extends Error{constructor(e,t){super(t),this.name=e,this.name=e??"PlatformBridgeError","function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack}}class t extends e{constructor(e,t,n){super(e??"PlatformBridgeBadResponseError",t),this.response=n}}class s{static validateParams(e,t){if(e.length>-1&&"object"==typeof e)return void s._oldSignature(e,t||0);const n=s._checkIfExists(e.parameters);s._checkReqUndefined(n,e.required),s._checkTypes(n,e.types),s._checkSize(n,e.size)}static _oldSignature(t,n){let s="",o=!0;const r=Object.values(t);r.length<n&&(o=!1,s+=`Invalid number of arguments. Function requires ${n} arguments but only ${r.length} arguments was passed.`);if(r.some((e=>null==e||""===e||void 0===e))&&(o=!1,s+="Invalid input. Arguments cannot be null or empty or undefined."),!o)throw new e("PlatformBridgeParamChecker",s)}static _checkIfExists(e){return void 0!==e&&Array.isArray(e)||s._throwViolation("Parameters key is required: Did you pass in the arguments array?  Check for misspellings"),e}static _checkReqUndefined(e,t){if(void 0!==t){e.length<t&&s._throwViolation(`Invalid number of arguments. Function requires ${t} arguments but only ${e.length} arguments was passed.`);for(let n=0;n<t;n++)void 0===e[n]&&s._throwViolation('Undefined argument: 1 or more arguments are "undefined"')}}static _checkTypes(e,t){if(void 0!==t)for(const n in e){if(!t[n])continue;const o=s._getTypeArray(t[n]);s._checkTypeAtIndex(e[n],o)||s._throwViolation(`Invalid type. Argument type at index ${n} (${null===e[n]?e[n]:typeof e[n]}) is not listed in user provided types (${JSON.stringify(o).replace(/^\[+|\]+$/g,"")}).`)}}static _checkSize(e,t){if(void 0!==t)for(const n in e){if(!t[n]||"string"!=typeof e[n])continue;const o=t[n].min,r=t[n].max,[a,i]=s._checkSizeAtIndex(e[n],o,r);a||s._throwViolation(i)}}static _checkSizeAtIndex(e,t,n){let s=!0,o="";return void 0!==t&&e.length<t&&(s=!1,o=`MIN error. A string argument ("${e}": ${e.length}) must be ${t} or more characters`),void 0!==n&&e.length>n&&(s=!1,o=`MAX error. A string argument ("${e}": ${e.length}) exceeds ${n} characters`),[s,o]}static _getTypeArray(e){return Array.isArray(e)?e:[e]}static _checkTypeAtIndex(e,t){let n=!0;return null===e?t.findIndex((e=>null===e))<0&&(n=!1):t.includes(typeof e)||(n=!1),n}static _throwViolation(t){throw new e("PlatformBridgeParamChecker",t)}}const o={debug(e,t,n,s){const r=o.buildMessage(e,t,n);console.debug(r),s&&o.logToServer(e,t,n,"DEBUG")},info(e,t,n,s){const r=o.buildMessage(e,t,n);console.info(r),s&&o.logToServer(e,t,n,"INFO")},warn(e,t,n,s){const r=o.buildMessage(e,t,n);console.warn(r),s&&o.logToServer(e,t,n,"WARN")},error(e,t,n,s){const r=o.buildMessage(e,t,n);console.error(r),s&&o.logToServer(e,t,n,"ERROR")},buildMessage(e,t,n){s.validateParams([e,t],2);let o=null;const r="Error Stack: ";return void 0!==n&&n instanceof Error&&("captureStackTrace"in Error?(Error.captureStackTrace(n),o=r+n.stack):o=r+(new Error).stack),`${"ComponentId: "+e}; ${"Message: "+t}${null!==o?`; ${o}`:""}`.trim()},logToServer(e,t,n,s){window.newrelic?.noticeError(n||t,{componentId:e,message:t,logLevel:s})}};const r=new class{publish(e,t){window.document.dispatchEvent(new CustomEvent(e,{detail:t})),this.debug(`Published event "${e}" with data: ${JSON.stringify(t)}`)}subscribe(e,t){window.document.addEventListener(e,t),this.debug(`Subscribed to event "${e}" via function: ${t.name}`)}unsubscribe(e,t){window.document.removeEventListener(e,t),this.debug(`Unsubscribed event "${e}" with function: ${t.name}`)}debug(e){o.debug("pbj-event-manager",e)}};const a="micro-ui-component-loaded";class i{constructor(e){this.eventManager=e}declarePrimaryContent(e){this.waitForLoad("pcr",e),i.sendReport("pcd")}notifyComponentLoaded(e){this.eventManager.publish(a,{componentId:e})}waitForLoad(e,t){Promise.all(t.map((e=>new Promise((t=>{this.eventManager.subscribe(a,(({detail:n})=>{n?.componentId===e&&t(e)}))}))))).then((()=>i.sendReport(e)),(()=>{}))}static sendReport(e){if(!window.prs||"function"!=typeof window.prs.rt)throw new Error('MissingPlatformObject: "prs.rt" function is missing.');window.prs.rt(e)}}const c=new class{constructor(e){this.prs=e}get pageParameters(){return{...window?.pageData?.page}||{}}trackEvent(e,t={}){this.sendEvent({...t,event:e})}updatePageDetails(e){window.pageData?window.pageData.page={...window?.pageData?.page||{},...e}:o.warn("Tracking data could not be found. Tracking page information update was failed.",e)}trackComponentLoad(e){this.prs.notifyComponentLoaded(e)}definePrimaryContent(e){this.prs.declarePrimaryContent(e)}sendEvent(e){window.appData=window.appData||[],window.appData.push(e)}}(new i(r));class d{static execute(t){if(!t)throw new e("InvalidInput","Input cannot be empty.");if(!t.url)throw new e("InvalidInput","Request url is required for http calls.");if(!t.callbackFunction)throw new e("InvalidInput","Callback function is required.");let n=t.method||"GET";jQuery.ajax({url:t.url,headers:t.headers||{},cache:!1,type:n,data:t.body&&"GET"!==n&&"HEAD"!==n?t.body:"",async:void 0===t.async||t.async,tryCount:0,retryLimit:void 0!==t.retries?t.retries:0,timeout:void 0!==t.timeout?t.timeout:0,retryCallback:t.retryCallback,done:!1,success:function(e){this.tryCount++,this.done=!0},error:function(e){if(this.tryCount++,this.tryCount<=this.retryLimit)return 1===this.tryCount&&this.retryCallback&&t.retryCallback(),void jQuery.ajax(this);this.done=!0},complete:function(e){if(this.done){let n={};e.getAllResponseHeaders().trim().split("\n").filter((e=>e)).map((e=>e.split(":"))).forEach((e=>{n[e[0].trim()]=e[1].trim()})),t.callbackFunction({statusCode:e.status,statusText:e.statusText,body:e.responseText,headers:n,triedCount:this.tryCount})}}})}static async executeAsync(n,s={}){if(!n)throw new e("InvalidInput","URL is required.");if(!s.signal&&s.timeout){const e=new AbortController;s.signal=e.signal,s._timeout=setTimeout((()=>{e.abort()}),s.timeout)}return fetch(n,s).then((async e=>{if(clearTimeout(s._timeout),"function"==typeof s.modifyResponse&&(e=await s.modifyResponse(s,e.clone())),!e.ok)throw new t("ResponseNotOk","HTTP response code not >= 200 and <= 299.",e);return await(s.verifyResponse?.(s,e.clone())),e})).catch((e=>{if(s._tryCount=1+~~s._tryCount,s._tryCount<=s.retries)return 1===s._tryCount&&s.onRetry?.(),d.executeAsync(n,s);if(e instanceof Response)throw new t(void 0,"Request failed",e);throw e}))}}"undefined"!=typeof window&&(window.smapiVars={STYLEGUIDE_BUNDLE_BASE_URL:"https://components.nonprod.scopus.com/develop",MICRO_UI_BUNDLE_BASE_URL:"https://components.nonprod.scopus.com/develop",APP_DOMAIN:"www.scopus.com",...window.smapiVars});const u=function(t){if("undefined"==typeof window||!window.smapiVars)throw new e("InvalidEnvironment",'The global variable "smapiVars" does not exist within the app.');return window.smapiVars[t]};function l(){const e=u("fe.id");return e?e.replace("-www",""):""}class p{static requestSigninRegistration(t,n,s){throw new e("FunctionNotImplemented","Function is not implemented!")}}class m{static isSubscribed(){throw new e("FunctionNotImplemented","Function is not implemented!")}static isAuthorized(t){throw new e("FunctionNotImplemented","Function is not implemented!")}static isEntitled(t){throw new e("FunctionNotImplemented","Function is not implemented!")}}class w{static fail(t,n,s,o,r){throw new e("FunctionNotImplemented","Function is not implemented!")}static warn(t,n,s,o,r){throw new e("FunctionNotImplemented","Function is not implemented!")}}class g{static getIdentity(){throw new e("FunctionNotImplemented","Function is not implemented!")}static isIndividual(){throw new e("FunctionNotImplemented","Function is not implemented!")}static getUserAccessType(){throw new e("FunctionNotImplemented","Function is not implemented!")}static isEmailVerified(){throw new e("FunctionNotImplemented","Function is not implemented!")}static hasPathChoice(){throw new e("FunctionNotImplemented","Function is not implemented!")}static getIdToken(){throw new e("FunctionNotImplemented","Function is not implemented!")}}class h{static getText(t,n,...s){throw new e("FunctionNotImplemented","Function is not implemented!")}static getLocaleText(t,n,s,...o){throw new e("FunctionNotImplemented","Function is not implemented!")}}class f{static notify(t,n,s){throw new e("FunctionNotImplemented","Function is not implemented!")}}class y{static getId(){throw new e("FunctionNotImplemented","Function is not implemented!")}static getUrlParams(){throw new e("FunctionNotImplemented","Function is not implemented!")}static getBookmarkParam(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static setBookmarkParam(t,n,s){throw new e("FunctionNotImplemented","Function is not implemented!")}}class v{static async fetch(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}static get(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static async getAsync(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}static post(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static async postAsync(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}static put(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static async putAsync(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}static patch(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static async patchAsync(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}static delete(t,n){throw new e("FunctionNotImplemented","Function is not implemented!")}static async deleteAsync(t,n={}){throw new e("FunctionNotImplemented","Function is not implemented!")}}class b{static getId(){throw new e("FunctionNotImplemented","Function is not implemented!")}static getLocale(){throw new e("FunctionNotImplemented","Function is not implemented!")}}class S{static getValue(t,n,s){throw new e("FunctionNotImplemented","Function is not implemented!")}static putValue(t,n,s,o){throw new e("FunctionNotImplemented","Function is not implemented!")}static deleteValue(t,n,s){throw new e("FunctionNotImplemented","Function is not implemented!")}}const I={platform:{user:{authentication:p,authorization:m,identification:g,session:b},configuration:class{static getValue(t){throw new e("FunctionNotImplemented","Function is not implemented!")}},errorReporter:w,localization:h,messenger:f,serviceManager:v,storage:S,page:y}};window.scopus={...I,...window.scopus||{}};const P="localized-properties",U="en-US";class R extends h{static getText(e,t,...n){s.validateParams({parameters:[...arguments],required:2,types:{0:"string",1:"string"},size:{0:{min:1},1:{min:1}}});const o=ScopusUser&&ScopusUser.userLocale?ScopusUser.userLocale:U;return R._getText(o,e,t,n)}static getLocaleText(e,t,n,...o){return s.validateParams({parameters:[...arguments],required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:1}}}),R._getText(e,t,n,o)}static _getText(e,t,n,s){let o=n;return window[P]&&window[P][t]&&window[P][t][e]&&window[P][t][e][n]?o=window[P][t][e][n]:e!==U&&window[P]&&window[P][t]&&window[P][t]["en-US"]&&window[P][t]["en-US"][n]?o=window[P][t]["en-US"][n]:window[t]&&window[t][n]&&(o=window[t][n]()),s&&s.length?this._formatString(o,s):o}static _formatString(e,t){return e.replace(/{(\d+)}/g,((e,n)=>void 0!==t[n]?t[n]:e))}}const _="pbj-module-messenger-scopus",A={parameters:[],required:2,types:{0:"string",1:"string",2:"string",3:"boolean"},size:{0:{min:1},1:{min:1},2:{min:0}}},x="INFO",F="CONFIRM",k="ERROR",$="WARN";class E extends f{static notify(t,n,r,a){if(!document.getElementById("platformAlertArea"))throw new e("MissingPlatformDependency",'Platform page is missing HTML element with id "platformAlertArea".');let i=Object.assign({},A);i.parameters=[...arguments],s.validateParams(i);const c=E._getAlertMessageHtml(t,n,r,a);document.getElementById("platformAlertArea").innerHTML=c;try{const e=`messenger.notify called with type of '${t}' and message '${n}'`;o.debug(_,e)}catch(e){console.error(e)}}static _getAlertMessageHtml(t,n,s,r){let a="";switch(t){case x:a="info";break;case F:a="success";break;case $:case k:a="error";break;default:throw n=`ERROR: Unknown messaging type ${t}`,o.error(_,n),new e("InvalidType",n)}return E._constructAlertHtml(s,n,r,a)}static _constructAlertHtml(e,t,n,s="success"){return`\n      <div class="micro-ui-namespace">\n        <els-alert-v2 type="${s}" ${n?"":'dismissable="false"'}>\n          ${e?`<h1 slot="title">${e}`:""}\n          <div slot="message">${t}</div>\n        </els-alert-v2>\n      </div>\n    `}}const N="pbj-module-page-scopus";React;const T=Symbol("AdobeTargetOfferCache"),O=Symbol("AdobeTargetLoaded");async function C(e,t={}){await(({getOffer:e=window?.adobe?.target?.getOffer}={})=>{var t;if("function"==typeof e)return Promise.resolve();const n=document.querySelector("[src*='4a848ae9611a/8abdb8d26bcc/launch']");return n?(t=n)[O]??(t[O]=new Promise(((e,t)=>{n.onload=e,setTimeout((()=>{t(new Error("AdobeTarget took more than 10 seconds to load."))}),1e4)}))):Promise.reject(new Error("AdobeTarget script tag is not on the page."))})(t);const n=await((e,{getOffer:t=window.adobe?.target?.getOffer}={})=>{var n;return"function"!=typeof t?Promise.reject("Adobe Target has not been loaded yet"):(t[T]??(t[T]={}),(n=t[T])[e]??(n[e]=new Promise(((n,s)=>{t({success:e=>n(e),error:e=>s(e),mbox:e})}))))})(e,t),s=n?.find((e=>"setJson"===e.action))?.content?.[0],o=n?.find((e=>"setContent"===e.action));return s||o&&JSON.parse(o.content)||null}const j=2,q=3e3;class D{static buildRequest(e,t,n){let s="";t.parameters&&(s+=e.includes("?")?"&":"?",s+=Object.keys(t.parameters).map((e=>`${e}=${t.parameters[e]}`)).join("&"));return{url:D._stripAppDomain(e)+s,method:n,headers:t.headers||{},body:t.body&&"GET"!==n&&"HEAD"!==n?t.body:"",retries:void 0!==t.retries?t.retries:j,timeout:void 0!==t.timeout?t.timeout:q,retryCallback:t.retry,callbackFunction:e=>D._processResponse(t,e)}}static buildAsyncRequest(e,t){return[D._stripAppDomain(e.toString()),{...t,retries:t.retries??j,timeout:t.timeout??q,verifyResponse:D._verifyAsyncResponse}]}static _stripAppDomain(e){const t=u("APP_DOMAIN"),n=new RegExp(`^https://${t.replace(/\./g,"\\.")}`);return e.replace(n,"").replace(/^\/+/,"/")}static _processResponse(e,t){let n=t.statusCode;const s=e.headers||{};if((s.Accept||s.accept||"").includes("application/json"))try{t.body=JSON.parse(t.body)}catch(e){o.error("PlatformBridgeProxyRequestBuilder","Failed to parse response as JSON.",e),n=500}n&&(n>=200&&n<300||304===n)?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}static async _verifyAsyncResponse(e,n){if(new Headers(e.headers).get("accept")?.includes("application/json"))try{await n.json()}catch(e){throw new t("ResponseNotJson","Response should be a valid JSON given `accept` header contains `application/json`",n)}}static _processProxyResponse(t,n){const s=t.statusCode;if(200!==s)throw new e("InvalidProxyRequest",`Proxy returned status code (${s}) and message: ${t.body}`);n(this._extractServiceCallResponse(t))}static _extractServiceCallResponse(e){const t=JSON.parse(e.body);return{statusCode:t.proxyStatusCode,headers:t.proxyHeaders||{},body:t.proxyBody}}static buildProxyRequest(e,t){const n=this._wrapRequestIntoBody(e);return{url:t,headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(n),retries:e.retries,timeout:e.timeout,callbackFunction:t=>D._processProxyResponse(t,e.callbackFunction)}}static buildAsyncProxyRequest(e,t,n){const{headers:s,method:o,body:r,...a}=n;return[e,{...a,headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify({url:t,method:o,headers:D._serializeHeaders(s),body:r}),modifyResponse:a.modifyResponse||D._parseAsyncProxyResponse}]}static async _parseAsyncProxyResponse(e,n){if(!n.ok)throw new t("ProxyResponseNotOk","Proxy HTTP response code not >= 200 and <= 299.",n);const s=await n.json().catch((()=>{throw new t("ProxyResponseNotJson","Proxy did not return a valid JSON.",n)}));return new Response(s.proxyBody,{status:s.proxyStatusCode,headers:new Headers(s.proxyHeaders||{})})}static _serializeHeaders(e){const t=new Headers(e);return Array.from(t.entries()).reduce(((e,[t,n])=>({...e,[t]:n.split(/,\s?/)})),{})}static _wrapRequestIntoBody(e){return{url:e.url,headers:e.headers||{},method:e.method,body:e.body}}}const M=C("API_GATEWAY_REROUTES").catch((()=>({})));class L extends v{static get(e,t={}){o.warn("PlatformBridgeProxyServiceManager","The method `get` is deprecated due to depending on jQuery. Use `getAsync` instead."),s.validateParams(arguments,1),L._execute(e,t,"GET")}static async getAsync(e,t={}){return s.validateParams(arguments,1),L._executeAsync(e,{...t,method:"GET"})}static post(e,t={}){o.warn("PlatformBridgeProxyServiceManager","The method `post` is deprecated due to depending on jQuery. Use `postAsync` instead."),s.validateParams({parameters:[...arguments],required:1,types:{0:"string"},size:{0:{min:1}}}),L._execute(e,t,"POST")}static async postAsync(e,t={}){return s.validateParams(arguments,1),L._executeAsync(e,{...t,method:"POST"})}static put(e,t={}){o.warn("PlatformBridgeProxyServiceManager","The method `put` is deprecated due to depending on jQuery. Use `putAsync` instead."),s.validateParams(arguments,1),L._execute(e,t,"PUT")}static async putAsync(e,t={}){return s.validateParams(arguments,1),L._executeAsync(e,{...t,method:"PUT"})}static patch(e,t={}){o.warn("PlatformBridgeProxyServiceManager","The method `patch` is deprecated due to depending on jQuery. Use `patchAsync` instead."),s.validateParams(arguments,1),L._execute(e,t,"PATCH")}static async patchAsync(e,t={}){return s.validateParams(arguments,1),L._executeAsync(e,{...t,method:"PATCH"})}static delete(e,t={}){o.warn("PlatformBridgeProxyServiceManager","The method `delete` is deprecated due to depending on jQuery. Use `deleteAsync` instead."),s.validateParams(arguments,1),L._execute(e,t,"DELETE")}static async deleteAsync(e,t={}){return s.validateParams(arguments,1),L._executeAsync(e,{...t,method:"DELETE"})}static _execute(e,t,n){let s=D.buildRequest(e,t,n);L._shouldGoViaProxy(e)&&(s=D.buildProxyRequest(s,L._getProxyRequestUrl())),d.execute(s)}static async fetch(e,t={}){s.validateParams(arguments,1);let n=D.buildAsyncRequest(e,t);if(L._shouldGoViaProxy(e)){n=await L._shouldGoViaGateway(e)?await this._buildGatewayRequest(e,t):D.buildAsyncProxyRequest(L._getProxyRequestUrl(),...n)}return d.executeAsync(...n)}static async _executeAsync(e,t={}){const n={...t,headers:{accept:"application/json",...Object.fromEntries(new Headers(t.headers).entries())}};return L.fetch(e,n).then((e=>"application/json"===new Headers(n.headers).get("accept")?e.json():e.text()))}static async _shouldGoViaGateway(e){const t=u("APP_DOMAIN");if(this._windowHostname()!==t)return o.info("PBJ","Proxy user who has managed to download PBJ and is trying to request via gateway.",void 0,!0),!1;if(!this._isValidUrl(this._getGatewayRequestUrl()))return!1;const n=await this._getGatewayReroutes();if(!n)return!1;return new URL(e).origin in n}static _windowHostname(){return window.location.hostname}static async _buildGatewayRequest(e,t){const n=new URL(e),s=(await this._getGatewayReroutes())[n.origin],o=new URL(this._getGatewayRequestUrl());o.search=n.search;const r=new RegExp(/\/$/);return o.pathname=o.pathname.replace(r,"")+s+n.pathname,[o,{credentials:"include",...t}]}static _shouldGoViaProxy(e){const t=new URL(e).host,n=u("APP_DOMAIN"),s=this._windowHostname();return!t.includes(n)&&!t.includes(s)}static _getProxyRequestUrl(){const e=u("PLATFORM_BRIDGE_REQUEST_PROXY_URL");return e.includes("https://")?e:`${window.location.origin}${e}`}static _isValidUrl(e){try{return new URL(e),!0}catch(e){return!1}}static _getGatewayRequestUrl(){return u("API_GATEWAY_DOMAIN")}static async _getGatewayReroutes(){return await M}}const V="pbj-module-storage-scopus",B={parameters:[],required:3,types:{0:"string",1:"string",2:"string"}},z="BROWSER_SESSION",G="ACROSS_BROWSER_SESSION",H="PLATFORM";class J extends S{static getValue(t,n,r){let a=Object.assign({},B);a.parameters=[...arguments],s.validateParams(a);let i="",c="";switch(r){case z:i=sessionStorage.getItem(`${t}~${n}`);break;case G:i=localStorage.getItem(`${t}~${n}`);break;case H:i=J._getValueFromPlatform(t,n);break;default:throw c=`ERROR: Scope parameter(${r}) in getValue() call not recognized`,o.error(V,c),new e("InvalidScope",c)}return c=`Retrieve key(${t}~${n}) from ${r} storage`,o.debug(V,c),i}static putValue(t,n,r,a){let i=Object.assign({},B);i.parameters=[...arguments],i.required=4,i.types[3]="string",s.validateParams(i);let c="";switch(a){case z:sessionStorage.setItem(`${t}~${n}`,r);break;case G:localStorage.setItem(`${t}~${n}`,r);break;case H:J._updateValueInPlatformPage(t,n,r),J._updateValueInPlatformStorage(t,n,r);break;default:throw c=`ERROR: Scope parameter(${a}) in putValue() call not recognized`,o.error(V,c),new e("InvalidScope",c)}c=`Add key(${t}~${n}) to ${a} storage`,o.debug(V,c)}static deleteValue(t,n,r){let a=Object.assign({},B);a.parameters=[...arguments],s.validateParams(a);let i="";switch(r){case z:sessionStorage.removeItem(`${t}~${n}`),i=`Remove key(${t}~${n}) from ${r} storage`;break;case G:localStorage.removeItem(`${t}~${n}`),i=`Remove key(${t}~${n}) from ${r} storage`;break;case H:throw i=`ERROR: deleteValue is not supported for ${r} scope`,o.error(V,i),new e("UnsupportedMethod",i);default:throw i=`ERROR: Scope parameter(${r}) in deleteValue() call not recognized`,o.error(V,i),new e("InvalidScope",i)}o.debug(V,i)}static _getValueFromPlatform(t,n){if(void 0===ScopusUser||void 0===ScopusUser.userPreferences)throw new e("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.userPreferences" is not available in the platform.');return ScopusUser.userPreferences[n]||null}static _updateValueInPlatformPage(t,n,s){if(void 0===ScopusUser||void 0===ScopusUser.userPreferences)throw new e("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.userPreferences" is not available in the platform.');ScopusUser.userPreferences[n]=s}static _updateValueInPlatformStorage(t,n,s){const{webUserId:o}=scopus.platform.user.identification.getIdentity();if(!o)throw new e("MissingPlatformData","WebUserId could not be found.");let r;if(d.execute({url:`/users/${o}/preferences/${n}.uri`,method:"PUT",headers:{"Content-Type":"text/plain;charset=utf-8"},body:s,async:!1,callbackFunction:e=>{r=e}}),!r.statusCode||200!==r.statusCode)throw new e("StorageError",`Error while updating the storage value for ${t}, with ${n}=${s}`)}}n(800);window.scopus.platform.analytics=c,window.scopus.platform.user.authentication=class extends p{static requestSigninRegistration(t,n,o){if(s.validateParams({parameters:[...arguments],required:1,types:{0:"object",1:"string",2:"boolean"}}),!window.IDPlus||!window.IDPlus.promptLogin)throw new e("InvalidReference","IDPlus dependency missing");window.IDPlus.promptLogin(t,n,o)}},window.scopus.platform.user.authorization=class extends m{static isSubscribed(){if(!ScopusUser||void 0===ScopusUser.isSubscribed)throw new e("InvalidIdentification","ScopusUser or isSubscribed data is missing in the platform.");return ScopusUser.isSubscribed}static isAuthorized(t){if(!ScopusUser||!ScopusUser.adminRoles)throw new e("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.adminRoles" not available in the platform.');return s.validateParams({parameters:[...arguments],required:1,types:{0:"string"},size:{0:{min:1}}}),ScopusUser.adminRoles.includes(t)}static isEntitled(t){if(s.validateParams({parameters:[...arguments],required:1,types:{0:["number","string"]}}),!ScopusUser||!ScopusUser.fenceIds||!ScopusUser.fenceNames)throw new e("InvalidIdentification","Invalid ScopusUser, fenceId or fenceName");return"number"==typeof t&&isFinite(t)?ScopusUser.fenceIds.includes(t):"string"==typeof t&&ScopusUser.fenceNames.includes(t)}},window.scopus.platform.user.identification=class extends g{static getIdentity(){if(void 0===ScopusUser||void 0===ScopusUser.webUserId||void 0===ScopusUser.account||void 0===ScopusUser.account.accountId||void 0===ScopusUser.account.accountName||void 0===ScopusUser.department||void 0===ScopusUser.department.departmentId||void 0===ScopusUser.department.departmentName)throw new e("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.webUserId" or \t\t\t\t"ScopusUser.account" or "ScopusUser.account.accountId" \t\t\t\tor "ScopusUser.account.accountName" or "ScopusUser.department" \t\t\t\tor "ScopusUser.department.departmentId" or "ScopusUser.department.departmentName" \t\t\t\tnot available in the platform.');return{webUserId:ScopusUser.webUserId,firstName:ScopusUser.firstName,lastName:ScopusUser.lastName,email:ScopusUser.email,department:{departmentId:ScopusUser.department.departmentId,departmentName:ScopusUser.department.departmentName,institutionalBannerData:ScopusUser.department.institutionalBannerData},account:{accountId:ScopusUser.account.accountId,accountName:ScopusUser.account.accountName}}}static isIndividual(){if(!ScopusUser||void 0===ScopusUser.isIndividual)throw new e("InvalidIdentification","ScopusUser or isIndividual data is missing in the platform.");return ScopusUser.isIndividual}static getUserAccessType(){if(!ScopusUser||void 0===ScopusUser.accessTypeAA)throw new e("InvalidIdentification","ScopusUser or adobe access type data is missing in the platform.");return ScopusUser.accessTypeAA}static getQuickLinkInfo(){if(!ScopusUser||!ScopusUser.account)throw new e("InvalidIdentification","ScopusUser or ScopusUser.account is missing in the platform.");return ScopusUser.account.quickLinkData?{...ScopusUser.account.quickLinkData}:null}static hasPathChoice(){if(!ScopusUser||void 0===ScopusUser.pathChoiceExists)throw new e("InvalidIdentification","ScopusUser or pathChoiceExists data is missing in the platform.");return ScopusUser.pathChoiceExists}static getIdToken(){if(!ScopusUser?.idToken)throw new e("InvalidIdentification","ScopusUser or idToken data is missing in the platform.");return ScopusUser.idToken}},window.scopus.platform.user.session=class extends b{static getId(){if(void 0===PlatformData||void 0===PlatformData.sessionId)throw new e("MissingPlatformData","Platform data with a valid session id is not available.");return PlatformData.sessionId}static getLocale(){if(void 0===ScopusUser||void 0===ScopusUser.userLocale)throw new e("MissingScopusUserData","Scopus User data with a valid locale is not available.");return ScopusUser.userLocale}},window.scopus.platform.configuration={getValue:u,getConfigurationValue:u,getComponentConfigurationAsync:async function(e){const t=`componentConfig-${e}`;let n=JSON.parse(sessionStorage.getItem(t));if(n)return n;const s=await d.executeAsync(`/component/configuration/${e}.uri`,{retries:2,timeout:2e3}),o=await s.json();if("www"===l())n=o.prod;else{const e=l();n=o[e]?o[e]:o.nonProd}return sessionStorage.setItem(t,JSON.stringify(n)),n}},window.scopus.platform.errorReporter=class extends w{static fail(e,t,n,r,a){s.validateParams({parameters:[...arguments],required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:1}}}),o.error(e,t+" "+n,r,a)}static warn(e,t,n,r,a){s.validateParams({parameters:[...arguments],required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:1}}}),o.warn(e,t+" "+n,r,a)}},window.scopus.platform.eventManager=r,window.scopus.platform.localization=R,window.scopus.platform.logger=o,window.scopus.platform.messenger=E,window.scopus.platform.serviceManager=L,window.scopus.platform.storage=J,window.scopus.platform.page=class extends y{static getId(){if(void 0===PlatformData||void 0===PlatformData.pageId)throw new e("MissingPlatformData","Platform data with a valid page id is not available.");return PlatformData.pageId}static getUrlParams(){let e={};const t=window.location.search,n=t.indexOf("?");if(n>-1){t.slice(n+1).split("&").forEach((t=>{const[n,s]=t.split("="),o=decodeURIComponent(s);n in e?"string"==typeof e[n]?e[n]=[e[n],o]:e[n].push(o):e[n]=o}))}return e}static getBookmarkParam(e,t){s.validateParams({parameters:[...arguments],required:2,types:{0:"string",1:"string"},size:{0:{min:1},1:{min:1}}});const n=scopus.platform.page.getUrlParams()[t]||null;return o.debug(N,`Bookmark param ${t}=${n} retrieved for component ${e}`),n}static setBookmarkParam(e,t,n){s.validateParams({parameters:[...arguments],required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:0}}});const r=scopus.platform.page.getUrlParams();let a=window.location.href;t in r?a=a.replace(new RegExp(`([&?])${t}=[^&#]*`,"i"),`$1${t}=${n}`):a+=`&${t}=${n}`,window.history.replaceState(null,"",a),o.debug(N,`Bookmark param ${t}=${n} updated for component ${e}`)}}})()})();