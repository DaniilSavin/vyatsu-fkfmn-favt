(()=>{"use strict";const e="micro-ui-injector~micro-ui-injector-override-url",t=t=>{localStorage.setItem(e,JSON.stringify(t))},r={getList(){const t=localStorage.getItem(e);if(!t)return{};try{return JSON.parse(t)}catch(e){return console.warn("Injector storage error: ",e),{}}},add(e,r){const s=this.getList();s[e]=r,t(s)},remove(e){const r=this.getList();delete r[e],t(r)},clear(){t({})}},s=["id","style","class","name","component-id","only-script","override-url"];((e,t,r={})=>{window.customElements?window.customElements.define(e,t,r):window.scopus.platform.logger.error("micro-ui","window.customElements is undefined, make sure the web components polyfill for your browser is being loaded.")})("micro-ui",class extends HTMLElement{constructor(){super(...arguments),this._rendered=!1}connectedCallback(){this._rendered||(this._render(),this._rendered=!0)}getObservableAttributes(){return Array.from(this.attributes).map((e=>e.name)).filter((e=>!s.includes(e)))}resolveMicroUiBundleBase(e){if(this.hasAttribute("override-url"))return this.getAttribute("override-url");const t=r.getList(),s=window.scopus.platform.configuration.getValue("MICRO_UI_BUNDLE_BASE_URL");return t[e]||s}_render(){this.classList.add("micro-ui-namespace");const e=this.getAttribute("component-id"),t=this.resolveMicroUiBundleBase(e),r=document.createElement("script");r.src=`${t||""}/${e}/${e}.js`,r.type="text/javascript",r.defer=!0;if(!!customElements.get(e)||!!document.querySelector(`script[src="${r.src}"]`)||this.appendChild(r),!this.hasAttribute("only-script")){const t=document.createElement(e);this.getObservableAttributes().forEach((e=>{t.setAttribute(e,this.getAttribute(e))})),this.appendChild(t)}}}),window.microUiOverrides=r})();